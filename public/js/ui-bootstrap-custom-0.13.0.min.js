/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.13.0 - 2015-05-02
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.alert","ui.bootstrap.modal","ui.bootstrap.buttons"]),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,o,r){e(function(){r.close()},parseInt(o.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,o=0;o<e.length;o++)if(t==e[o].key){n=o;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){function t(t){t.animate=!1,e(function(){t.animate=!0})}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,n){return e.addClass(n.backdropClass),t}}}]).directive("modalWindow",["$modalStack","$q",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,o,r){o.addClass(r.windowClass||""),n.size=r.size,n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},n.$isRendered=!0;var a=t.defer();r.$observe("modalRender",function(e){"true"==e&&a.resolve()}),a.promise.then(function(){n.animate=!0;var t=o[0].querySelectorAll("[autofocus]");t.length?t[0].focus():o[0].focus();var r=e.getTop();r&&e.modalRendered(r.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,o,r){r(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,o,r,a){function l(){for(var e=-1,t=f.keys(),n=0;n<t.length;n++)f.get(t[n]).value.backdrop&&(e=n);return e}function i(e){var t=n.find("body").eq(0),o=f.get(e).value;f.remove(e),u(o.modalDomEl,o.modalScope,function(){t.toggleClass(m,f.length()>0),c()})}function c(){if(d&&-1==l()){var e=p;u(d,p,function(){e=null}),d=void 0,p=void 0}}function u(n,o,a){function l(){l.done||(l.done=!0,n.remove(),o.$destroy(),a&&a())}o.animate=!1,n.attr("modal-animation")&&e.enabled()?n.one("$animate:close",function(){r.$evalAsync(l)}):t(l)}function s(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var d,p,m="modal-open",f=a.createNew(),v={};return r.$watch(l,function(e){p&&(p.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=f.top(),t&&t.value.keyboard&&(e.preventDefault(),r.$apply(function(){v.dismiss(t.key,"escape key press")})))}),v.open=function(e,t){var a=n[0].activeElement;f.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var i=n.find("body").eq(0),c=l();if(c>=0&&!d){p=r.$new(!0),p.index=c;var u=angular.element('<div modal-backdrop="modal-backdrop"></div>');u.attr("backdrop-class",t.backdropClass),t.animation&&u.attr("modal-animation","true"),d=o(u)(p),i.append(d)}var s=angular.element('<div modal-window="modal-window"></div>');s.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:f.length()-1,animate:"animate"}).html(t.content),t.animation&&s.attr("modal-animation","true");var v=o(s)(t.scope);f.top().value.modalDomEl=v,f.top().value.modalOpener=a,i.append(v),i.addClass(m)},v.close=function(e,t){var n=f.get(e);return n&&s(n,t,!0)?(n.value.deferred.resolve(t),i(e),n.value.modalOpener.focus(),!0):!n},v.dismiss=function(e,t){var n=f.get(e);return n&&s(n,t,!1)?(n.value.deferred.reject(t),i(e),n.value.modalOpener.focus(),!0):!n},v.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},v.getTop=function(){return f.top()},v.modalRendered=function(e){var t=f.get(e);t&&t.value.renderDeferred.resolve()},v}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,n,o,r,a,l){function i(e){return e.template?o.when(e.template):r(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function c(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(o.when(t.invoke(e)))}),n}var u={};return u.open=function(t){var r=o.defer(),u=o.defer(),s=o.defer(),d={result:r.promise,opened:u.promise,rendered:s.promise,close:function(e){return l.close(d,e)},dismiss:function(e){return l.dismiss(d,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var p=o.all([i(t)].concat(c(t.resolve)));return p.then(function(e){var o=(t.scope||n).$new();o.$close=d.close,o.$dismiss=d.dismiss;var i,c={},u=1;t.controller&&(c.$scope=o,c.$modalInstance=d,angular.forEach(t.resolve,function(t,n){c[n]=e[u++]}),i=a(t.controller,c),t.controllerAs&&(o[t.controllerAs]=i)),l.open(d,{scope:o,deferred:r,renderDeferred:s,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){r.reject(e)}),p.then(function(){u.resolve(!0)},function(e){u.reject(e)}),d},u}]};return e}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,o){var r=o[0],a=o[1];a.$render=function(){t.toggleClass(r.activeClass,angular.equals(a.$modelValue,e.$eval(n.btnRadio)))},t.bind(r.toggleEvent,function(){var o=t.hasClass(r.activeClass);(!o||angular.isDefined(n.uncheckable))&&e.$apply(function(){a.$setViewValue(o?null:e.$eval(n.btnRadio)),a.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,o){function r(){return l(n.btnCheckboxTrue,!0)}function a(){return l(n.btnCheckboxFalse,!1)}function l(t,n){var o=e.$eval(t);return angular.isDefined(o)?o:n}var i=o[0],c=o[1];c.$render=function(){t.toggleClass(i.activeClass,angular.equals(c.$modelValue,r()))},t.bind(i.toggleEvent,function(){e.$apply(function(){c.$setViewValue(t.hasClass(i.activeClass)?a():r()),c.$render()})})}}});